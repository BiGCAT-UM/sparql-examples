
@prefix ex: <https://bigcat-um.github.io/sparql-examples/AOP-Wiki/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix schema: <https://schema.org/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .

# SPARQL executable metadata
ex:1 a sh:SPARQLExecutable,
       sh:SPARQLSelectExecutable ;
    rdfs:comment "[fill out comment here]"@en ;
    sh:prefixes _:sparql_examples_prefixes ;
    sh:select """SELECT ?AO ?AOname ?AOP (CONCAT('"',GROUP_CONCAT(?ChemicalName;SEPARATOR='","'),'"') AS ?ChemicalNames) WHERE {
  ?AO a aopo:KeyEvent ; 
  dc:identifier ?AOLookup ; 
  dc:title ?AOname . 
  ?AOP a aopo:AdverseOutcomePathway ; 
  aopo:has_adverse_outcome ?AOLookup ;
  nci:C54571 ?Stressor .
  ?Stressor dc:title ?StressorName.
  OPTIONAL {?Stressor aopo:has_chemical_entity ?Chemical. 
            ?Chemical dc:title ?ChemicalName.}
  FILTER regex (?AOname, "fibrosis", "i")}
  ORDER BY DESC (?AO)""" ;
    schema:target <https://aopwiki.rdf.bigcat-bioinformatics.org/sparql/> ;
    dc:contributor "Marvin Martens" .
